---
layout: post
title: 架构_Web高性能架构
date: 2021-12-15 22:00:00 +0800
categories: 服务端
tag: 架构
---


### 一. 核心问题
1. 网站的性能怎么评估？
	- 用户/开发/运维
	- 网站性能指标有哪些？
	- 如何得到性能的指标？

2. 网站的性能如何优化？
	- 前端优化？
	- 后端优化？
	- 存储优化？


### 二. 网站性能的评估
*** 

#### 1. 不同视角
- 从用户：
	1. 加载出频率
	2. 加载的速度
- 从开发：
	1. 延迟
	2. 吞吐量
	3. 稳定性
- 从运维
	1. 硬件配置
	2. 网络架构
	3. 资源利用率：带宽/CPU/硬盘

*** 

#### 2. 具体的指标

- 响应时间（系统的快慢）
	- [应用执行一个操作的时间](https://colin-scott.github.io/personal_website/research/interactive_latency.html)
		- 打开网站 几秒
		- 数据库查询有索引的数据 十几毫秒
		- 机械硬盘一次寻址定位 几毫秒
		- 从内存中读取1MB数据 几十微米 

- 并发数（系统负载能力）
	- 系统能够同时处理请求的数目
		- 用户数 >> 在线用户数 >> 并发用户数

- 吞吐量（系统处理能力）
	- 单位时间内系统处理的请求数量
		- TPS: 每秒事务数
		- QPS: 每秒查询数
		- HPS: 每秒请求数

- 性能计数器（操作系统/服务器性能的指标）
	- System Load（系统忙闲程度）
		- 系统负载，正在被CPU和等待CPU执行的进程总数
	- 对象与线程数
	- CPU使用
	- 磁盘I/O
	- 网络I/O

*** 

#### 3. 性能测试方法
- 性能测试：
	- 测试是否达到最初的设计目标
	- 验证系统在资源可接受范围内能否达到性能预期

- 负载测试
	- 对系统不断增加并发请求以增加系统压力，当系统的各项性能达到安全临界值

- 压力测试
	- 获取系统的最大承受力
	- 在超过安全负载情况下，对系统继续施加压力，直到系统崩溃

- 稳定性测试
	- 在一定条件下，对系统加载一定的业务压力
	- 使系统运行一段较长时间，以此检测系统是否稳定

- 性能测试报告
	- 并法/响应/TPS/错误/Load/内存


### 三. 网站性能的优化

*** 

#### 1. 前端性能优化

*** 

#### 2. 服务端性能优化

*** 

#### 3. 存储性能优化



