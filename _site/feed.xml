<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <description></description>
    <link>http://www.louishwh.top/</link>
    <atom:link href="http://www.louishwh.top/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 18 Dec 2021 11:23:52 +0800</pubDate>
    <lastBuildDate>Sat, 18 Dec 2021 11:23:52 +0800</lastBuildDate>
    <generator>Jekyll v4.2.0</generator>
    
      <item>
        <title>架构_Web高可用架构</title>
        <description>&lt;h2 id=&quot;零-核心问题&quot;&gt;零. 核心问题&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;网站可用性如何衡量？
    &lt;ul&gt;
      &lt;li&gt;指标&lt;/li&gt;
      &lt;li&gt;考核&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;如何设计高可用的系统？
    &lt;ul&gt;
      &lt;li&gt;冗余&lt;/li&gt;
      &lt;li&gt;失效转移&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;一-网站可用性的衡量&quot;&gt;一. 网站可用性的衡量&lt;/h2&gt;
&lt;hr /&gt;

&lt;h4 id=&quot;1-可用性度量&quot;&gt;1. 可用性度量&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;9的多少数量来衡量
    &lt;ul&gt;
      &lt;li&gt;90% 小于36天12小时&lt;/li&gt;
      &lt;li&gt;99% 小于87小时36分钟&lt;/li&gt;
      &lt;li&gt;99.9% 小于8小时46分钟&lt;/li&gt;
      &lt;li&gt;99.99% 小于52分钟33秒&lt;/li&gt;
      &lt;li&gt;99.999% 小于5分钟15秒&lt;/li&gt;
      &lt;li&gt;99.9999% 小于31.5秒&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;2-可用性考核&quot;&gt;2. 可用性考核&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;数据和服务的冗余备份&lt;/li&gt;
  &lt;li&gt;数据和服务的失效转移&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;二-高可用的应用&quot;&gt;二. 高可用的应用&lt;/h2&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;1-负载均衡进行无状态服务的失效转移&quot;&gt;1. 负载均衡进行无状态服务的失效转移&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;无状态，实现所有服务器完全对等&lt;/li&gt;
  &lt;li&gt;失效转移，某一个出现问题能够及时剔除&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;2-应用服务器集群的session管理&quot;&gt;2. 应用服务器集群的Session管理&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;业务总是有状态的&lt;/li&gt;
  &lt;li&gt;Session,多次请求使用的上下文对象
    &lt;ol&gt;
      &lt;li&gt;Session复制
   	- 每台都备份一份
   		- 空间/带宽浪费较多&lt;/li&gt;
      &lt;li&gt;Session绑定
   	- 通过负载均衡将请求分发到同一台服务器
   	- 一旦宕机就会导致无法完成业务处理&lt;/li&gt;
      &lt;li&gt;利用Cookie存储Session
   	- Cookie大小受限
   	- 传输耗费性能
   	- 浏览区关闭Cookie会导致不可用&lt;/li&gt;
      &lt;li&gt;Session服务器
   	- Session服务集群统一管理Session&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;三-高可用的服务&quot;&gt;三. 高可用的服务&lt;/h2&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;1-分级管理&quot;&gt;1. 分级管理&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;服务分级管理
    &lt;ul&gt;
      &lt;li&gt;核心应用和服务使用更好的配置&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;服务部署隔离
    &lt;ul&gt;
      &lt;li&gt;避免故障的连锁反应&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;2-超时设置&quot;&gt;2. 超时设置&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;由于服务失去响应导致用户请求长时间得不到响应
    &lt;ul&gt;
      &lt;li&gt;占用资源&lt;/li&gt;
      &lt;li&gt;设置超时时间及时释放资源&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;3-异步调用&quot;&gt;3. 异步调用&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;通过消息队列等异步方式，避免一个服务失败导致整个过程失败
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;4-服务降级&quot;&gt;4. 服务降级&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;访问高峰，服务因大量并发而性能下降，为保证核心应用和功能的正常运行
    &lt;ul&gt;
      &lt;li&gt;拒绝服务
        &lt;ul&gt;
          &lt;li&gt;拒绝低优先级应用的调用&lt;/li&gt;
          &lt;li&gt;减少服务调用并发数&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;关闭功能
        &lt;ul&gt;
          &lt;li&gt;关闭部分不重要的服务&lt;/li&gt;
          &lt;li&gt;节约系统开销，为重要的服务和功能让出资源&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;5-幂等性设计&quot;&gt;5. 幂等性设计&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;服务重复调用和调用一次产生的结果相同
    &lt;ul&gt;
      &lt;li&gt;解决服务重复调用问题&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;四-高可用的数据&quot;&gt;四. 高可用的数据&lt;/h2&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;1-cap原理&quot;&gt;1. CAP原理&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;C: Consistency（数据一致性）
    &lt;ul&gt;
      &lt;li&gt;多份副本数据不一致&lt;/li&gt;
      &lt;li&gt;所有程序都能访问得到相同的数据&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;A: Availability（数据可用性）
    &lt;ul&gt;
      &lt;li&gt;多份副本其中某个损坏，需要将访问切换到可用的副本上&lt;/li&gt;
      &lt;li&gt;任何时候程序能都可与读写访问&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;P: Partition Tolerance（分区耐受性）
    &lt;ul&gt;
      &lt;li&gt;系统可以跨网络分区线性伸缩&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;大型网站通常选择AP,一定程度上放弃C
    &lt;ul&gt;
      &lt;li&gt;数据强一致性
        &lt;ul&gt;
          &lt;li&gt;各个副本的数据在物理存储中总是一致&lt;/li&gt;
          &lt;li&gt;数据更新操作结果操作响应总是一致，不处于不确定状态&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;数据用户一致
        &lt;ul&gt;
          &lt;li&gt;各个副本的数据在物理存储中可能不一致&lt;/li&gt;
          &lt;li&gt;终端用户访问，通过纠错和教研机制，可以确定一个一致且正确的数据&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;数据最终一致
        &lt;ul&gt;
          &lt;li&gt;各个副本的数据在物理存储中可能不一致&lt;/li&gt;
          &lt;li&gt;终端用户访问，可能不一致&lt;/li&gt;
          &lt;li&gt;但是经过一段时间的自我恢复和修正，数据最终会达成一致&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;2-数据备份&quot;&gt;2. 数据备份&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;冷备份
    &lt;ul&gt;
      &lt;li&gt;缺点
        &lt;ul&gt;
          &lt;li&gt;不能保证数据一致性&lt;/li&gt;
          &lt;li&gt;备份结束时间后更新的数据会丢失&lt;/li&gt;
          &lt;li&gt;不能保证可用性，恢复时间较长&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;优点
        &lt;ul&gt;
          &lt;li&gt;可靠性高，有效&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;热备份
    &lt;ul&gt;
      &lt;li&gt;异步热备
        &lt;ul&gt;
          &lt;li&gt;操作成功保证写入一个成功，其他副本的写入异步完成&lt;/li&gt;
          &lt;li&gt;分为主存储服务器和从服务器&lt;/li&gt;
          &lt;li&gt;正常情况下只连接主存储器&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;同步热备
        &lt;ul&gt;
          &lt;li&gt;多分数据副本的写入操作同步完成&lt;/li&gt;
          &lt;li&gt;存储服务器没有主从之分&lt;/li&gt;
          &lt;li&gt;性能由最慢那台决定&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;实践中通常做法
        &lt;ul&gt;
          &lt;li&gt;写操作只访问Master数据库&lt;/li&gt;
          &lt;li&gt;读操作只访问Slave数据库&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;3-失效转移&quot;&gt;3. 失效转移&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;失效确认
    &lt;ul&gt;
      &lt;li&gt;心跳检测&lt;/li&gt;
      &lt;li&gt;访问失败报告&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;访问转移
    &lt;ul&gt;
      &lt;li&gt;对等服务器&lt;/li&gt;
      &lt;li&gt;不对等服务器&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;数据恢复
    &lt;ul&gt;
      &lt;li&gt;部分服务宕机时，数据存储的副本减少，必须将副本的数量恢复到系统设定的值&lt;/li&gt;
      &lt;li&gt;系统从正常的服务复制数据&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;五-高可用软件质量保证&quot;&gt;五. 高可用软件质量保证&lt;/h2&gt;
&lt;hr /&gt;
&lt;h4 id=&quot;1-网站发布&quot;&gt;1. 网站发布&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;关闭服务器集群中的一小部分&lt;/li&gt;
  &lt;li&gt;发布过的服务可以立即访问&lt;/li&gt;
  &lt;li&gt;整个发布过程不影响用户使用&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;2-自动化测试&quot;&gt;2. 自动化测试&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Selenium
    &lt;ul&gt;
      &lt;li&gt;功能测试&lt;/li&gt;
      &lt;li&gt;浏览器兼容测试&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;3-预发布验证&quot;&gt;3. 预发布验证&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;避免环境不一致导致上线异常&lt;/li&gt;
  &lt;li&gt;通过预发布服务器进行预发布验证&lt;/li&gt;
  &lt;li&gt;与线上的唯一不同是没有配置在负载均衡服务器上&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;4-代码控制&quot;&gt;4. 代码控制&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;主干开发，分支发布
    &lt;ul&gt;
      &lt;li&gt;主干代码反应目前整体应用的状态一目了然，便于管理和控制&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;分支开发，主干发布
    &lt;ul&gt;
      &lt;li&gt;当前主要使用的方式&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;5-自动化发布&quot;&gt;5. 自动化发布&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;基于规则驱动的流程&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;6-灰度发布ab测试&quot;&gt;6. 灰度发布（AB测试）&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;将服务器分成若干部分&lt;/li&gt;
  &lt;li&gt;每天只发布一部分服务器&lt;/li&gt;
  &lt;li&gt;观察运行稳定没有问题&lt;/li&gt;
  &lt;li&gt;如果发现问题回滚已发布的服务器&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;六-网站运行监控&quot;&gt;六. 网站运行监控&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;不允许没有监控的系统上线&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;1-监控数据采集&quot;&gt;1. 监控数据采集&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;用户行为日志收集
    &lt;ul&gt;
      &lt;li&gt;服务端日志&lt;/li&gt;
      &lt;li&gt;客户端日志&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;服务器性能监控
    &lt;ul&gt;
      &lt;li&gt;收集服务器性能指标&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;运行数据报告
    &lt;ul&gt;
      &lt;li&gt;监控具体业务场景相关的技术和业务
        &lt;ul&gt;
          &lt;li&gt;平均响应延迟时间&lt;/li&gt;
          &lt;li&gt;邮件数目&lt;/li&gt;
          &lt;li&gt;缓存命中率&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;2-监控管理&quot;&gt;2. 监控管理&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;根据监控数据进行
    &lt;ul&gt;
      &lt;li&gt;风险预警&lt;/li&gt;
      &lt;li&gt;负载调整&lt;/li&gt;
      &lt;li&gt;最大化资源利用&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;系统报警
    &lt;ul&gt;
      &lt;li&gt;配置警报阀值&lt;/li&gt;
      &lt;li&gt;设置警报系统&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;失效转移
    &lt;ul&gt;
      &lt;li&gt;警报系统通知应用进行失效转移&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;自动优雅降级
    &lt;ul&gt;
      &lt;li&gt;访问高峰时，主动关闭部分功能&lt;/li&gt;
      &lt;li&gt;确保资源用在核心功能的访问上&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;总结&quot;&gt;总结&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;先求生存&lt;/li&gt;
  &lt;li&gt;再求发展&lt;/li&gt;
  &lt;li&gt;追求高概率稳定性&lt;/li&gt;
&lt;/ol&gt;

</description>
        <pubDate>Thu, 16 Dec 2021 21:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/12/16/%E6%9E%B6%E6%9E%84-Web%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/12/16/%E6%9E%B6%E6%9E%84-Web%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84/</guid>
        
        <category>架构</category>
        
        
        <category>服务端</category>
        
      </item>
    
      <item>
        <title>架构_Web高性能架构</title>
        <description>&lt;h2 id=&quot;零-核心问题&quot;&gt;零. 核心问题&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;网站的性能怎么评估？
    &lt;ul&gt;
      &lt;li&gt;用户/开发/运维&lt;/li&gt;
      &lt;li&gt;网站性能指标有哪些？&lt;/li&gt;
      &lt;li&gt;如何得到性能的指标？&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;网站的性能如何优化？
    &lt;ul&gt;
      &lt;li&gt;前端优化？&lt;/li&gt;
      &lt;li&gt;后端优化？&lt;/li&gt;
      &lt;li&gt;存储优化？&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;一-网站性能的评估&quot;&gt;一. 网站性能的评估&lt;/h2&gt;
&lt;hr /&gt;

&lt;h4 id=&quot;1-不同视角&quot;&gt;1. 不同视角&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;从用户：
    &lt;ol&gt;
      &lt;li&gt;加载出频率&lt;/li&gt;
      &lt;li&gt;加载的速度&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;从开发：
    &lt;ol&gt;
      &lt;li&gt;延迟&lt;/li&gt;
      &lt;li&gt;吞吐量&lt;/li&gt;
      &lt;li&gt;稳定性&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;从运维
    &lt;ol&gt;
      &lt;li&gt;硬件配置&lt;/li&gt;
      &lt;li&gt;网络架构&lt;/li&gt;
      &lt;li&gt;资源利用率：带宽/CPU/硬盘&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;2-具体的指标&quot;&gt;2. 具体的指标&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;响应时间（系统的快慢）
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://colin-scott.github.io/personal_website/research/interactive_latency.html&quot;&gt;应用执行一个操作的时间&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;打开网站 几秒&lt;/li&gt;
          &lt;li&gt;数据库查询有索引的数据 十几毫秒&lt;/li&gt;
          &lt;li&gt;机械硬盘一次寻址定位 几毫秒&lt;/li&gt;
          &lt;li&gt;从内存中读取1MB数据 几十微米&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;并发数（系统负载能力）
    &lt;ul&gt;
      &lt;li&gt;系统能够同时处理请求的数目
        &lt;ul&gt;
          &lt;li&gt;用户数 » 在线用户数 » 并发用户数&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;吞吐量（系统处理能力）
    &lt;ul&gt;
      &lt;li&gt;单位时间内系统处理的请求数量
        &lt;ul&gt;
          &lt;li&gt;TPS: 每秒事务数&lt;/li&gt;
          &lt;li&gt;QPS: 每秒查询数&lt;/li&gt;
          &lt;li&gt;HPS: 每秒请求数&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;性能计数器（操作系统/服务器性能的指标）
    &lt;ul&gt;
      &lt;li&gt;System Load（系统忙闲程度）
        &lt;ul&gt;
          &lt;li&gt;系统负载，正在被CPU和等待CPU执行的进程总数&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;对象与线程数&lt;/li&gt;
      &lt;li&gt;CPU使用&lt;/li&gt;
      &lt;li&gt;磁盘I/O&lt;/li&gt;
      &lt;li&gt;网络I/O&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;3-性能测试方法&quot;&gt;3. 性能测试方法&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;性能测试：
    &lt;ul&gt;
      &lt;li&gt;测试是否达到最初的设计目标&lt;/li&gt;
      &lt;li&gt;验证系统在资源可接受范围内能否达到性能预期&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;负载测试
    &lt;ul&gt;
      &lt;li&gt;对系统不断增加并发请求以增加系统压力，当系统的各项性能达到安全临界值&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;压力测试
    &lt;ul&gt;
      &lt;li&gt;获取系统的最大承受力&lt;/li&gt;
      &lt;li&gt;在超过安全负载情况下，对系统继续施加压力，直到系统崩溃&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;稳定性测试
    &lt;ul&gt;
      &lt;li&gt;在一定条件下，对系统加载一定的业务压力&lt;/li&gt;
      &lt;li&gt;使系统运行一段较长时间，以此检测系统是否稳定&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;性能测试报告
    &lt;ul&gt;
      &lt;li&gt;并法/响应/TPS/错误/Load/内存&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;二-网站性能的优化&quot;&gt;二. 网站性能的优化&lt;/h2&gt;
&lt;hr /&gt;

&lt;h4 id=&quot;1-前端性能优化&quot;&gt;1. 前端性能优化&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;浏览器访问优化
    &lt;ul&gt;
      &lt;li&gt;减少HTTP请求&lt;/li&gt;
      &lt;li&gt;使用浏览器缓存&lt;/li&gt;
      &lt;li&gt;启用压缩
        &lt;ul&gt;
          &lt;li&gt;压缩对于服务器和浏览器产生一定的压力&lt;/li&gt;
          &lt;li&gt;要权衡带宽和服务器资源&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;CSS居最上，JS居最下
        &lt;ul&gt;
          &lt;li&gt;CSS全部下载完才会对整个界面渲染&lt;/li&gt;
          &lt;li&gt;浏览器加载JS后立即执行，可能会阻塞界面&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;减少Cookie传输
        &lt;ul&gt;
          &lt;li&gt;太大的Cookie影响数据传输&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;CDN加速
    &lt;ul&gt;
      &lt;li&gt;Content Distribute Network&lt;/li&gt;
      &lt;li&gt;本质是将数据缓存中距离用户最近的地方&lt;/li&gt;
      &lt;li&gt;一般用于缓存静态资源：图片、文件、CSS、Script、静态网页&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;反向代理
    &lt;ul&gt;
      &lt;li&gt;将用户请求转发到Web服务器集群&lt;/li&gt;
      &lt;li&gt;可以通过配置缓存加速Web请求&lt;/li&gt;
      &lt;li&gt;实现负载均衡功能&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;2-服务端性能优化&quot;&gt;2. 服务端性能优化&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;分布式缓存
    &lt;ul&gt;
      &lt;li&gt;缓存原理
        &lt;ul&gt;
          &lt;li&gt;网站优化优先考虑使用缓存&lt;/li&gt;
          &lt;li&gt;缓存主要用来存放读写比很高、很少变化的数据&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;合理使用缓存
        &lt;ul&gt;
          &lt;li&gt;不恰当使用缓存的情况
            &lt;ul&gt;
              &lt;li&gt;频繁修改的数据&lt;/li&gt;
              &lt;li&gt;没有热点的访问&lt;/li&gt;
              &lt;li&gt;数据不一致与脏读&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;几个重要概念
            &lt;ul&gt;
              &lt;li&gt;缓存雪崩
                &lt;ul&gt;
                  &lt;li&gt;大规模缓存失效，导致数据库会因为不能承受压力而宕机&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;缓存预热：
                &lt;ul&gt;
                  &lt;li&gt;缓存系统重启时把热点数据加载好&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;缓存穿透：
                &lt;ul&gt;
                  &lt;li&gt;请求不存在的数据，由于不存在缓存，对数据库造成很大压力&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;分布式缓存架构
        &lt;ul&gt;
          &lt;li&gt;Redis&lt;/li&gt;
          &lt;li&gt;Memcached&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;异步操作
    &lt;ul&gt;
      &lt;li&gt;消息队列
        &lt;ul&gt;
          &lt;li&gt;作用
            &lt;ul&gt;
              &lt;li&gt;削峰&lt;/li&gt;
              &lt;li&gt;改善性能&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;常见
            &lt;ul&gt;
              &lt;li&gt;Kafka&lt;/li&gt;
              &lt;li&gt;RocketMQ&lt;/li&gt;
              &lt;li&gt;RabbitMQ&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;使用集群
    &lt;ul&gt;
      &lt;li&gt;负载均衡为一个应用构建由多台服务器组成的服务器集群&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;代码优化
    &lt;ul&gt;
      &lt;li&gt;多线程
        &lt;ul&gt;
          &lt;li&gt;IO阻塞/多CPU&lt;/li&gt;
          &lt;li&gt;线程安全问题&lt;/li&gt;
          &lt;li&gt;最佳启动线程数与CPU内核数量成正比&lt;/li&gt;
          &lt;li&gt;最佳启动线程数与IO等待时间成正比&lt;/li&gt;
          &lt;li&gt;计算型任务，线程数最多不超过CPU内核数&lt;/li&gt;
          &lt;li&gt;任务需要等如磁盘操作、网络响应，启动多线程有助于提高任务&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;资源复用
        &lt;ul&gt;
          &lt;li&gt;单例&lt;/li&gt;
          &lt;li&gt;对象池&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;数据结构
        &lt;ul&gt;
          &lt;li&gt;这个重要性不多言&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;垃圾回收
        &lt;ul&gt;
          &lt;li&gt;JVM
            &lt;ul&gt;
              &lt;li&gt;heap&lt;/li&gt;
              &lt;li&gt;stack&lt;/li&gt;
              &lt;li&gt;Young Genetation&lt;/li&gt;
              &lt;li&gt;Old Genetation&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;
&lt;h4 id=&quot;3-存储性能优化&quot;&gt;3. 存储性能优化&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;SSD - HHD
    &lt;ul&gt;
      &lt;li&gt;Solid State Drives&lt;/li&gt;
      &lt;li&gt;Hard Disk Drive&lt;/li&gt;
      &lt;li&gt;对比参数：
        &lt;ul&gt;
          &lt;li&gt;读取速度&lt;/li&gt;
          &lt;li&gt;抗震能力&lt;/li&gt;
          &lt;li&gt;功耗&lt;/li&gt;
          &lt;li&gt;噪声&lt;/li&gt;
          &lt;li&gt;容量&lt;/li&gt;
          &lt;li&gt;价格&lt;/li&gt;
          &lt;li&gt;写入次数&lt;/li&gt;
          &lt;li&gt;数据恢复&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;B+树 - LSM树
    &lt;ul&gt;
      &lt;li&gt;传统关系型数据库：B+树&lt;/li&gt;
      &lt;li&gt;LSM树可以看作是一个N阶合并树&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;RAID - HDFS
    &lt;ul&gt;
      &lt;li&gt;RAID: 廉价磁盘冗余阵列&lt;/li&gt;
      &lt;li&gt;HDFS: Hadoop分布式文件系统&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;三-总结&quot;&gt;三. 总结&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;性能优化的最终目的就是改善用户的体验&lt;/li&gt;
  &lt;li&gt;性能优化也需要全面考虑
    &lt;ul&gt;
      &lt;li&gt;花费代价与获得的体验提升之间的平衡&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

</description>
        <pubDate>Wed, 15 Dec 2021 22:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/12/15/%E6%9E%B6%E6%9E%84-Web%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/12/15/%E6%9E%B6%E6%9E%84-Web%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84/</guid>
        
        <category>架构</category>
        
        
        <category>服务端</category>
        
      </item>
    
      <item>
        <title>架构_架构模式</title>
        <description>&lt;h3 id=&quot;对架构的几点思考&quot;&gt;对架构的几点思考&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;大型网站问题的缘由？
    &lt;ul&gt;
      &lt;li&gt;核心模型
        &lt;ul&gt;
          &lt;li&gt;客户端 –&amp;gt; 服务端&lt;/li&gt;
          &lt;li&gt;客户端 &amp;lt;– 服务端&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;问题点
        &lt;ul&gt;
          &lt;li&gt;客户端不断增长，甚至于可以达到亿级别&lt;/li&gt;
          &lt;li&gt;如果想要实现后端服务的正常，需要成比例增加服务端的处理能力&lt;/li&gt;
          &lt;li&gt;服务端的处理能力需要综合考量
            &lt;ul&gt;
              &lt;li&gt;带宽&lt;/li&gt;
              &lt;li&gt;网卡&lt;/li&gt;
              &lt;li&gt;CPU&lt;/li&gt;
              &lt;li&gt;内存&lt;/li&gt;
              &lt;li&gt;磁盘&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;架构的几个核心思想&quot;&gt;架构的几个核心思想&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;横向的拆分(分层)
    &lt;ul&gt;
      &lt;li&gt;系统的分层
        &lt;ul&gt;
          &lt;li&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;代码的分层
        &lt;ul&gt;
          &lt;li&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;纵向的拆分(分割)
    &lt;ul&gt;
      &lt;li&gt;服务的分割
        &lt;ul&gt;
          &lt;li&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;数据库的分割
        &lt;ul&gt;
          &lt;li&gt;分库/分表&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;分布式
    &lt;ul&gt;
      &lt;li&gt;分割后，把服务部署到多台服务器上&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;集群
    &lt;ul&gt;
      &lt;li&gt;相同功能的服务部署到多台服务上&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;缓存
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;异步
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;冗余
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;自动化
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;安全
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Tue, 14 Dec 2021 22:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/12/14/%E6%9E%B6%E6%9E%84-%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/12/14/%E6%9E%B6%E6%9E%84-%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F/</guid>
        
        <category>架构</category>
        
        
        <category>服务端</category>
        
      </item>
    
      <item>
        <title>架构_Web架构演化历程</title>
        <description>
</description>
        <pubDate>Mon, 13 Dec 2021 22:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/12/13/%E6%9E%B6%E6%9E%84_%E6%BC%94%E5%8C%96%E5%8E%86%E7%A8%8B/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/12/13/%E6%9E%B6%E6%9E%84_%E6%BC%94%E5%8C%96%E5%8E%86%E7%A8%8B/</guid>
        
        <category>架构</category>
        
        
        <category>服务端</category>
        
      </item>
    
      <item>
        <title>架构_Web架构思维框架</title>
        <description>&lt;h3 id=&quot;网站架构&quot;&gt;网站架构&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/2021-12-12-Web架构.png&quot; alt=&quot;/images/2021-12-12-Web架构.png&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Sun, 12 Dec 2021 12:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/12/12/%E6%9E%B6%E6%9E%84_%E6%9E%B6%E6%9E%84%E6%80%9D%E7%BB%B4%E6%A1%86%E6%9E%B6/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/12/12/%E6%9E%B6%E6%9E%84_%E6%9E%B6%E6%9E%84%E6%80%9D%E7%BB%B4%E6%A1%86%E6%9E%B6/</guid>
        
        <category>架构</category>
        
        
        <category>服务端</category>
        
      </item>
    
      <item>
        <title>数据库_RocksDB</title>
        <description>&lt;h3 id=&quot;资源网站&quot;&gt;资源网站&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;&quot;&gt;官网&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;&quot;&gt;源码&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;&quot;&gt;例子&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;功能&quot;&gt;功能&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;应用场景&quot;&gt;应用场景&lt;/h3&gt;

&lt;h3 id=&quot;demo&quot;&gt;Demo&lt;/h3&gt;

&lt;h3 id=&quot;现成的方案&quot;&gt;现成的方案&lt;/h3&gt;
</description>
        <pubDate>Sat, 11 Dec 2021 22:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/12/11/%E6%95%B0%E6%8D%AE%E5%BA%93_RocksDB/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/12/11/%E6%95%B0%E6%8D%AE%E5%BA%93_RocksDB/</guid>
        
        <category>数据库</category>
        
        
        <category>RocksDB</category>
        
      </item>
    
      <item>
        <title>数据库_排名</title>
        <description>&lt;h3 id=&quot;数据库的排名&quot;&gt;数据库的排名&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://db-engines.com/en/ranking&quot;&gt;DB-Engines&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;此最权威&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.modb.pro/dbRank&quot;&gt;墨天轮&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;当前排名现状&quot;&gt;当前排名现状&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Oracle&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;MySQL&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Microsoft SQL Server&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;PostgreSQL&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;MongoDB&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Redis&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Elasticsearch&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;SQLite&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Microsoft Access&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Cassandra&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;MariaDB&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;七周七数据库提及的&quot;&gt;七周七数据库提及的&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;PostgreSQL&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Riak&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Apache HBase&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Apache CouchDB&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;MongoDB&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Neo4j&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Redis&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;自己真正玩过的&quot;&gt;自己真正玩过的&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;MySQL&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;PostgreSQL&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;MongoDB&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Redis&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;SQLite&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

</description>
        <pubDate>Tue, 07 Dec 2021 22:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/12/07/%E6%95%B0%E6%8D%AE%E5%BA%93_%E6%8E%92%E5%90%8D/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/12/07/%E6%95%B0%E6%8D%AE%E5%BA%93_%E6%8E%92%E5%90%8D/</guid>
        
        <category>数据库</category>
        
        
        <category>存储工具</category>
        
      </item>
    
      <item>
        <title>Java_代码分析工具</title>
        <description>&lt;h3 id=&quot;需求-想法&quot;&gt;需求-想法&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;能够获取代码的依赖结构&lt;/li&gt;
  &lt;li&gt;GUI展示代码继承/实现/引用关系&lt;/li&gt;
  &lt;li&gt;能够给出代码质量：是否遵守设计原则、代码规范等&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;现成的方案&quot;&gt;现成的方案&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;JDepend
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Jarviz
    &lt;ul&gt;
      &lt;li&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Sun, 05 Dec 2021 22:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/12/05/Java_%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/12/05/Java_%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/</guid>
        
        <category>Java</category>
        
        
        <category>代码分析工具</category>
        
      </item>
    
      <item>
        <title>Java_人脸识别</title>
        <description>
</description>
        <pubDate>Sat, 27 Nov 2021 23:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/11/27/Java_%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/11/27/Java_%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/</guid>
        
        <category>Java</category>
        
        
        <category>JavaUtils</category>
        
      </item>
    
      <item>
        <title>Java_IP转地址</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://github.com/louishwh/java-utils.git&quot;&gt;【代码】&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;需求说明&quot;&gt;需求说明&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;服务端有个需求对IP作限制
    &lt;ul&gt;
      &lt;li&gt;大陆IP放过&lt;/li&gt;
      &lt;li&gt;香港IP增加认证&lt;/li&gt;
      &lt;li&gt;美国IP不能认证&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;对这个问题的解决&quot;&gt;对这个问题的解决&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;方案一
    &lt;ul&gt;
      &lt;li&gt;在Nginx处理，将地址放入Header处理
        &lt;ul&gt;
          &lt;li&gt;集成：http_geoip_module&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;方案二
    &lt;ul&gt;
      &lt;li&gt;在应用内自检索
        &lt;ol&gt;
          &lt;li&gt;GeoIP2 GeoLite2开源免费的数据库
            &lt;ul&gt;
              &lt;li&gt;https://www.maxmind.com/en/accounts/467533/geoip/downloads&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;通过纯真库
            &lt;ul&gt;
              &lt;li&gt;https://www.cz88.net/ 获取更新IP映射关系&lt;/li&gt;
              &lt;li&gt;√&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;通过一些IP网站的接口
            &lt;ul&gt;
              &lt;li&gt;比如：https://www.ip138.com/iplookup.asp?ip=122.196.203.216&amp;amp;action=2&lt;/li&gt;
              &lt;li&gt;比如：https://tool.lu/ip/&lt;/li&gt;
              &lt;li&gt;比如：https://ip.tool.chinaz.com/27.46.106.39&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;总结&quot;&gt;总结&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;这个数据库需要经常更新才比较准确
    &lt;ul&gt;
      &lt;li&gt;因为运营商的网段会变&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Sat, 20 Nov 2021 10:00:00 +0800</pubDate>
        <link>http://www.louishwh.top/2021/11/20/Java_IP%E8%BD%AC%E5%9C%B0%E5%9D%80/</link>
        <guid isPermaLink="true">http://www.louishwh.top/2021/11/20/Java_IP%E8%BD%AC%E5%9C%B0%E5%9D%80/</guid>
        
        <category>Java</category>
        
        
        <category>JavaUtils</category>
        
      </item>
    
  </channel>
</rss>
